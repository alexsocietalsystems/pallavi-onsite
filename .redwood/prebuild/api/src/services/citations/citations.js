import { db } from "../../lib/db";
export const citations = () => {
  console.log("Getting called 123");
  return db.citation.findMany();
};
export const citation = ({
  id
}) => {
  return db.citation.findUnique({
    where: {
      id
    }
  });
};
export const getCitationByNumberAndDriverName = async ({
  citationNumber,
  driverName
}) => {
  console.log("Getting called");
  const citation_num = await db.citation.findFirst({
    where: {
      citation_number: citationNumber
    }
  });
  console.log(citation_num);
  if (citation_num == null) {
    return {
      citation: null,
      citationExists: false
    };
  }
  const citation = db.citation.findFirst({
    where: {
      citation_number: citationNumber,
      driver_name: driverName
    },
    include: {
      court: true
    }
  });
  return {
    citation: citation,
    citationExists: true
  };
};
export const createCitation = ({
  input
}) => {
  return db.citation.create({
    data: input
  });
};
export const updateCitation = ({
  id,
  input
}) => {
  return db.citation.update({
    data: input,
    where: {
      id
    }
  });
};
export const deleteCitation = ({
  id
}) => {
  return db.citation.delete({
    where: {
      id
    }
  });
};
export const Citation = {
  court: (_obj, {
    root
  }) => {
    return db.citation.findUnique({
      where: {
        id: root?.id
      }
    }).court();
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsImNpdGF0aW9ucyIsImNvbnNvbGUiLCJsb2ciLCJjaXRhdGlvbiIsImZpbmRNYW55IiwiaWQiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJnZXRDaXRhdGlvbkJ5TnVtYmVyQW5kRHJpdmVyTmFtZSIsImNpdGF0aW9uTnVtYmVyIiwiZHJpdmVyTmFtZSIsImNpdGF0aW9uX251bSIsImZpbmRGaXJzdCIsImNpdGF0aW9uX251bWJlciIsImNpdGF0aW9uRXhpc3RzIiwiZHJpdmVyX25hbWUiLCJpbmNsdWRlIiwiY291cnQiLCJjcmVhdGVDaXRhdGlvbiIsImlucHV0IiwiY3JlYXRlIiwiZGF0YSIsInVwZGF0ZUNpdGF0aW9uIiwidXBkYXRlIiwiZGVsZXRlQ2l0YXRpb24iLCJkZWxldGUiLCJDaXRhdGlvbiIsIl9vYmoiLCJyb290Il0sInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vYXBpL3NyYy9zZXJ2aWNlcy9jaXRhdGlvbnMvY2l0YXRpb25zLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHtcbiAgUXVlcnlSZXNvbHZlcnMsXG4gIE11dGF0aW9uUmVzb2x2ZXJzLFxuICBDaXRhdGlvblJlbGF0aW9uUmVzb2x2ZXJzLFxufSBmcm9tICd0eXBlcy9ncmFwaHFsJ1xuXG5pbXBvcnQgeyBkYiB9IGZyb20gJ3NyYy9saWIvZGInXG5cbmV4cG9ydCBjb25zdCBjaXRhdGlvbnM6IFF1ZXJ5UmVzb2x2ZXJzWydjaXRhdGlvbnMnXSA9ICgpID0+IHtcbiAgY29uc29sZS5sb2coXCJHZXR0aW5nIGNhbGxlZCAxMjNcIilcbiAgcmV0dXJuIGRiLmNpdGF0aW9uLmZpbmRNYW55KClcbn1cblxuZXhwb3J0IGNvbnN0IGNpdGF0aW9uOiBRdWVyeVJlc29sdmVyc1snY2l0YXRpb24nXSA9ICh7IGlkIH0pID0+IHtcbiAgcmV0dXJuIGRiLmNpdGF0aW9uLmZpbmRVbmlxdWUoe1xuICAgIHdoZXJlOiB7IGlkIH0sXG4gIH0pXG59XG5cbmV4cG9ydCBjb25zdCBnZXRDaXRhdGlvbkJ5TnVtYmVyQW5kRHJpdmVyTmFtZTogUXVlcnlSZXNvbHZlcnNbJ2dldENpdGF0aW9uQnlOdW1iZXJBbmREcml2ZXJOYW1lJ10gPSAgYXN5bmMgKHsgY2l0YXRpb25OdW1iZXIsIGRyaXZlck5hbWUgfSkgPT4ge1xuICBjb25zb2xlLmxvZyhcIkdldHRpbmcgY2FsbGVkXCIpXG4gIGNvbnN0IGNpdGF0aW9uX251bSA9IGF3YWl0IGRiLmNpdGF0aW9uLmZpbmRGaXJzdCh7XG4gICAgd2hlcmU6IHsgXG4gICAgICBjaXRhdGlvbl9udW1iZXI6IGNpdGF0aW9uTnVtYmVyIH0sXG4gIH0pXG4gIGNvbnNvbGUubG9nKGNpdGF0aW9uX251bSlcbiAgaWYoY2l0YXRpb25fbnVtID09IG51bGwpe1xuICAgIHJldHVybiB7IGNpdGF0aW9uOiBudWxsLCBjaXRhdGlvbkV4aXN0czogZmFsc2UgfVxuICB9XG4gIGNvbnN0IGNpdGF0aW9uID0gIGRiLmNpdGF0aW9uLmZpbmRGaXJzdCh7XG4gICAgd2hlcmU6IHtcbiAgICAgIGNpdGF0aW9uX251bWJlcjogY2l0YXRpb25OdW1iZXIsXG4gICAgICBkcml2ZXJfbmFtZTogZHJpdmVyTmFtZSxcbiAgICB9LFxuICAgIGluY2x1ZGU6IHtcbiAgICAgIGNvdXJ0OiB0cnVlLFxuICAgIH0sXG4gIH0pO1xuICByZXR1cm4geyBjaXRhdGlvbjogY2l0YXRpb24sIGNpdGF0aW9uRXhpc3RzOiB0cnVlIH1cbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVDaXRhdGlvbjogTXV0YXRpb25SZXNvbHZlcnNbJ2NyZWF0ZUNpdGF0aW9uJ10gPSAoe1xuICBpbnB1dCxcbn0pID0+IHtcbiAgcmV0dXJuIGRiLmNpdGF0aW9uLmNyZWF0ZSh7XG4gICAgZGF0YTogaW5wdXQsXG4gIH0pXG59XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVDaXRhdGlvbjogTXV0YXRpb25SZXNvbHZlcnNbJ3VwZGF0ZUNpdGF0aW9uJ10gPSAoe1xuICBpZCxcbiAgaW5wdXQsXG59KSA9PiB7XG4gIHJldHVybiBkYi5jaXRhdGlvbi51cGRhdGUoe1xuICAgIGRhdGE6IGlucHV0LFxuICAgIHdoZXJlOiB7IGlkIH0sXG4gIH0pXG59XG5cbmV4cG9ydCBjb25zdCBkZWxldGVDaXRhdGlvbjogTXV0YXRpb25SZXNvbHZlcnNbJ2RlbGV0ZUNpdGF0aW9uJ10gPSAoeyBpZCB9KSA9PiB7XG4gIHJldHVybiBkYi5jaXRhdGlvbi5kZWxldGUoe1xuICAgIHdoZXJlOiB7IGlkIH0sXG4gIH0pXG59XG5cbmV4cG9ydCBjb25zdCBDaXRhdGlvbjogQ2l0YXRpb25SZWxhdGlvblJlc29sdmVycyA9IHtcbiAgY291cnQ6IChfb2JqLCB7IHJvb3QgfSkgPT4ge1xuICAgIHJldHVybiBkYi5jaXRhdGlvbi5maW5kVW5pcXVlKHsgd2hlcmU6IHsgaWQ6IHJvb3Q/LmlkIH0gfSkuY291cnQoKVxuICB9LFxufVxuIl0sIm1hcHBpbmdzIjoiQUFNQSxTQUFTQSxFQUFFO0FBRVgsT0FBTyxNQUFNQyxTQUFzQyxHQUFHQSxDQUFBLEtBQU07RUFDMURDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLG9CQUFvQixDQUFDO0VBQ2pDLE9BQU9ILEVBQUUsQ0FBQ0ksUUFBUSxDQUFDQyxRQUFRLENBQUMsQ0FBQztBQUMvQixDQUFDO0FBRUQsT0FBTyxNQUFNRCxRQUFvQyxHQUFHQSxDQUFDO0VBQUVFO0FBQUcsQ0FBQyxLQUFLO0VBQzlELE9BQU9OLEVBQUUsQ0FBQ0ksUUFBUSxDQUFDRyxVQUFVLENBQUM7SUFDNUJDLEtBQUssRUFBRTtNQUFFRjtJQUFHO0VBQ2QsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQUVELE9BQU8sTUFBTUcsZ0NBQW9GLEdBQUksTUFBQUEsQ0FBTztFQUFFQyxjQUFjO0VBQUVDO0FBQVcsQ0FBQyxLQUFLO0VBQzdJVCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQztFQUM3QixNQUFNUyxZQUFZLEdBQUcsTUFBTVosRUFBRSxDQUFDSSxRQUFRLENBQUNTLFNBQVMsQ0FBQztJQUMvQ0wsS0FBSyxFQUFFO01BQ0xNLGVBQWUsRUFBRUo7SUFBZTtFQUNwQyxDQUFDLENBQUM7RUFDRlIsT0FBTyxDQUFDQyxHQUFHLENBQUNTLFlBQVksQ0FBQztFQUN6QixJQUFHQSxZQUFZLElBQUksSUFBSSxFQUFDO0lBQ3RCLE9BQU87TUFBRVIsUUFBUSxFQUFFLElBQUk7TUFBRVcsY0FBYyxFQUFFO0lBQU0sQ0FBQztFQUNsRDtFQUNBLE1BQU1YLFFBQVEsR0FBSUosRUFBRSxDQUFDSSxRQUFRLENBQUNTLFNBQVMsQ0FBQztJQUN0Q0wsS0FBSyxFQUFFO01BQ0xNLGVBQWUsRUFBRUosY0FBYztNQUMvQk0sV0FBVyxFQUFFTDtJQUNmLENBQUM7SUFDRE0sT0FBTyxFQUFFO01BQ1BDLEtBQUssRUFBRTtJQUNUO0VBQ0YsQ0FBQyxDQUFDO0VBQ0YsT0FBTztJQUFFZCxRQUFRLEVBQUVBLFFBQVE7SUFBRVcsY0FBYyxFQUFFO0VBQUssQ0FBQztBQUNyRCxDQUFDO0FBRUQsT0FBTyxNQUFNSSxjQUFtRCxHQUFHQSxDQUFDO0VBQ2xFQztBQUNGLENBQUMsS0FBSztFQUNKLE9BQU9wQixFQUFFLENBQUNJLFFBQVEsQ0FBQ2lCLE1BQU0sQ0FBQztJQUN4QkMsSUFBSSxFQUFFRjtFQUNSLENBQUMsQ0FBQztBQUNKLENBQUM7QUFFRCxPQUFPLE1BQU1HLGNBQW1ELEdBQUdBLENBQUM7RUFDbEVqQixFQUFFO0VBQ0ZjO0FBQ0YsQ0FBQyxLQUFLO0VBQ0osT0FBT3BCLEVBQUUsQ0FBQ0ksUUFBUSxDQUFDb0IsTUFBTSxDQUFDO0lBQ3hCRixJQUFJLEVBQUVGLEtBQUs7SUFDWFosS0FBSyxFQUFFO01BQUVGO0lBQUc7RUFDZCxDQUFDLENBQUM7QUFDSixDQUFDO0FBRUQsT0FBTyxNQUFNbUIsY0FBbUQsR0FBR0EsQ0FBQztFQUFFbkI7QUFBRyxDQUFDLEtBQUs7RUFDN0UsT0FBT04sRUFBRSxDQUFDSSxRQUFRLENBQUNzQixNQUFNLENBQUM7SUFDeEJsQixLQUFLLEVBQUU7TUFBRUY7SUFBRztFQUNkLENBQUMsQ0FBQztBQUNKLENBQUM7QUFFRCxPQUFPLE1BQU1xQixRQUFtQyxHQUFHO0VBQ2pEVCxLQUFLLEVBQUVBLENBQUNVLElBQUksRUFBRTtJQUFFQztFQUFLLENBQUMsS0FBSztJQUN6QixPQUFPN0IsRUFBRSxDQUFDSSxRQUFRLENBQUNHLFVBQVUsQ0FBQztNQUFFQyxLQUFLLEVBQUU7UUFBRUYsRUFBRSxFQUFFdUIsSUFBSSxFQUFFdkI7TUFBRztJQUFFLENBQUMsQ0FBQyxDQUFDWSxLQUFLLENBQUMsQ0FBQztFQUNwRTtBQUNGLENBQUMifQ==